<% content_for :title, @keyword.name %>

<div class="py-16">
  <div class="max-w-4xl mx-auto px-4">
    <div class="bg-gray-800 px-6 py-8 border border-gray-700 rounded-xl shadow-xl">
      <% if notice %>
        <div class="mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg text-green-400">
          <%= notice %>
        </div>
      <% end %>

      <div class="mb-8">
        <h1 class="font-bold text-2xl text-gray-100"><%= @keyword.name %></h1>
        <p class="text-base text-gray-400 mt-2">
          Keyword details and metrics.
        </p>
      </div>

      <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6 mb-8">
        <div class="space-y-4">
          <div>
            <h3 class="text-sm font-medium text-gray-400">Name</h3>
            <p class="mt-1 text-lg text-gray-100"><%= @keyword.name %></p>
          </div>
          <div>
            <h3 class="text-sm font-medium text-gray-400">Average Monthly Searches</h3>
            <p class="mt-1 text-lg text-gray-100"><%= @keyword.avg_monthly_searches %></p>
          </div>
          <div>
            <h3 class="text-sm font-medium text-gray-400">Competition</h3>
            <p class="mt-1 text-lg text-gray-100"><%= @keyword.competition %></p>
          </div>
          <div>
            <span class="text-gray-400">Indexed:</span>
            <span class="text-gray-100 ml-2"><%= @keyword.indexed ? "Yes" : "No" %></span>
          </div>
          <div>
            <span class="text-gray-400">URLs:</span>
            <span class="text-gray-100 ml-2"><%= @keyword.urls.join(", ") %></span>
          </div>
          <% if @keyword.rankings.any? && @keyword.rankings.last&.rank.present? %>
            <div>
              <span class="text-gray-400">Ranking :</span>
              <span class="text-gray-100 ml-2"><%= @keyword.rankings.last&.rank %></span>
            </div>
            <div>
              <span class="text-gray-400">Ranking url:</span>
              <span class="text-gray-100 ml-2"><%= @keyword.rankings.last&.url %></span>
            </div>
          <% end %>
          <div>
            <h3 class="text-sm font-medium text-gray-400">Competition Index</h3>
            <p class="mt-1 text-lg text-gray-100"><%= @keyword.competition_index %></p>
          </div>
          <div>
            <h3 class="text-sm font-medium text-gray-400">Low Top of Page Bid</h3>
            <p class="mt-1 text-lg text-gray-100">$<%= @keyword.low_top_of_page_bid_micros.to_f / 1_000_000 %></p>
          </div>
          <div>
            <h3 class="text-sm font-medium text-gray-400">High Top of Page Bid</h3>
            <p class="mt-1 text-lg text-gray-100">$<%= @keyword.high_top_of_page_bid_micros.to_f / 1_000_000 %></p>
          </div>
        </div>
      </div>

      <div class="flex items-center justify-between pt-4 border-t border-gray-700">
        <div class="flex items-center space-x-4">
          <%= link_to "Edit keyword", edit_app_keyword_path(@keyword), class: "px-6 py-3 bg-transparent border-2 border-yellow-500/30 rounded-md font-semibold transition-all duration-200 hover:border-yellow-500/60 hover:bg-yellow-500/10 text-white" %>
          <%= link_to "Back to keywords", app_keywords_path, class: "text-gray-400 hover:text-gray-300 transition-colors" %>
        </div>

        <%= button_to "Delete keyword", [:app, @keyword], method: :delete, class: "px-6 py-3 bg-transparent border-2 border-red-500/30 rounded-md font-semibold transition-all duration-200 hover:border-red-500/60 hover:bg-red-500/10 text-white", data: { turbo_confirm: "Are you sure you want to delete this keyword?" } %>
      </div>
    </div>
  </div>
</div>
